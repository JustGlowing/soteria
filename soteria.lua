-- title:  game title
-- author: game developer
-- desc:   short description
-- script: lua

frames = 0

function solid(x, y)
  return solids[mget((x)//8+levels[level].mapx, (y)//8+levels[level].mapy)]
end

function hit_door(x, y)
  return mget((x)//8+levels[level].mapx, (y)//8+levels[level].mapy) == 97
end

function hit_hazard(x, y)
  return hazard[mget((x)//8+levels[level].mapx, (y)//8+levels[level].mapy)]
end

function init()
  solids={[33]=true, [34]=true, [49]=true, [50]=true}
  hazard={[25]=true, [26]=true}

  levels={[0]={mapx=0, mapy=0},
          [1]={mapx=30, mapy=1}
  }

  score=0
  dead_lems=0
  num_lems=10
  mode='menu'
  level=0

  p={
    x=20, 
    y=30, 
    sprite_idx=0, 
    sprite_jump=7,
    sprite={[1]=1,[2]=3,[3]=5},
    w_sprite=2, 
    h_sprite=2, 
    w=2*8-1, 
    h=2*8-1, 
    vx=0, --Velocity X
    vy=0, --Velocity Y
    colorkey = 0, 
    orientation = 1, 
    kick=false,
    d=2
  }  
  place_lems(60, 20, 10)
  frames=0

  camera={
  	x=0,
    y=0
  }
end

function place_lems(start_x, start_y, step)
  lems={}
  for i=0, num_lems-1 do
    start_x=start_x+step
    local lem={
      x=start_x, 
      y=start_y, 
      vx=.5, 
      vy=0, 
      orientation = 1, 
      sprite1=9
    }
    table.insert(lems, lem)
  end
end

function debug_print()
  rect(p.x, p.y, 1, 1, 6)
  rect(p.x+p.h, p.y, 1, 1, 5)
  rect(p.x, p.y+p.w, 1, 1, 5)
  rect(p.x+p.h, p.y+p.w, 1, 1, 5)
  rect(p.x+7+p.vx, p.y+p.vy, 1, 1, 5)
  rect(p.x+p.w+p.vx, p.y+7+p.vy, 1, 1, 5)
  rect(p.x+7+p.vx, p.y+p.w+p.vy, 1, 1, 6)
  rect(p.x+p.vx, p.y+7+p.vy, 1, 1, 5)

  print(tostring(p.x) .. ", " .. tostring(p.y .. ", " .. tostring(p.orientation) .. ", " .. tostring(level)), 112, 0)
  for _, lem in ipairs(lems) do
    rect(lem.x, lem.y, 1, 1, 6)
  end
end

function update_lem()
  to_remove = {}

  for i, lem in ipairs(lems) do
    if solid(lem.x+lem.vx, lem.y+lem.vy)
    or solid(lem.x+lem.vx, lem.y+7+lem.vy) then
      if lem.vy==0 then
        lem.vx=.5
        lem.orientation=1
      end
    end

    if solid(lem.x+7+lem.vx, lem.y+lem.vy) or
    solid(lem.x+7+lem.vx, lem.y+7+lem.vy) then
      if lem.vy==0 then
        lem.vx=-.5
        lem.orientation=0
      end
    end

    if solid(lem.x, lem.y+8+lem.vy)
    or solid(lem.x+7, lem.y+8+lem.vy) then
      lem.vy=0
    else
      lem.vy=lem.vy+0.2
    end

    if lem.vy<0 and (solid(lem.x+lem.vx, lem.y+lem.vy)
    or solid(lem.x+7+lem.vx, lem.y+lem.vy)) then
      lem.vy=0
    end

    if p.kick and p.orientation==0
    and math.abs(lem.x-p.x)<8 and math.abs(lem.y-p.y-8)<8 then
      --sfx(0, 60, 8)
      lem.vy=-3.
      lem.vx=-1.
      lem.orientation=p.orientation
    end

    if p.kick and p.orientation==1
    and math.abs(lem.x-(p.x+p.w))<8 and math.abs(lem.y-p.y-8)<8 then
      --sfx(0, 60, 8)
      lem.vy=-3.
      lem.vx=1.
      lem.orientation=p.orientation
    end

    lem.x=lem.x+lem.vx
    lem.y=lem.y+lem.vy

    if hit_door(lem.x, lem.y) then
      score=score+1
      table.remove(lems, i)
    end

    if hit_hazard(lem.x, lem.y) then
      dead_lems=dead_lems+1
      table.remove(lems, i)
    end
  end
end

function update_player()
  p.kick=false
  if btn(2) then
    p.vx=-1
    p.orientation = 0
  elseif btn(3) then
    p.vx=1
    p.orientation = 1
  else
    p.vx=0
  end

  if solid(p.x+p.vx, p.y+p.vy)
  or solid(p.x+p.w+p.vx, p.y+p.vy)
  or solid(p.x+p.vx, p.y+p.h+p.vy)
  or solid(p.x+p.w+p.vx, p.y+p.h+p.vy)
  or solid(p.x+7+p.vx, p.y+p.vy)
  or solid(p.x+p.w+p.vx, p.y+7+p.vy)
  or solid(p.x+p.vx, p.y+7+p.vy)
  then
    p.vx=0
  end

  if solid(p.x, p.y+p.h+p.vy+1)
  or solid(p.x+p.w, p.y+p.h+p.vy+1)
  or solid(p.x+7+p.vx, p.y+p.h+1+p.vy) then
    p.vy=0
  else
    p.vy=p.vy+0.2

  end

  if p.vy==0 and btnp(4) then
    sfx(0, 60, 8)
    p.vy=-2.5
  end

  if btnp(5) then
    sfx(0, 60, 8)
    p.kick=true
  end

  if p.vy<0 and (solid(p.x+p.vx, p.y+p.vy)
  or solid(p.x+p.w+p.vx, p.y+p.vy)) then
    p.vy=0
  end

  if hit_hazard(p.x, p.y) or hit_hazard(p.x+p.h, p.y+p.w) then
    mode='gameover'
  end

  p.x=p.x+p.vx --locked in the middle of the screen 112
  p.y=p.y+p.vy  
end

function walking_animation()
  if p.vx ~= 0 then
	  p.d=p.d-1
	  if p.d<0 then
	  	p.sprite_idx=p.sprite_idx+1
	  	if p.sprite_idx > 3 then p.sprite_idx=1 end
	  	p.d=2
	  end
  else
  	p.sprite_idx=1
  end
end

function draw_sprites()
  walking_animation()
  if p.vy ~= 0 then
  	spr(p.sprite_jump, p.x, p.y, p.colorkey, 1, p.orientation, 0, p.w_sprite, p.h_sprite)
  else
  	spr(p.sprite[p.sprite_idx], p.x, p.y, p.colorkey, 1, p.orientation, 0, p.w_sprite, p.h_sprite)
  end

  for i, lem in pairs(lems) do
    spr(9+(frames%60//30*2)/2, lems[i].x, lems[i].y, lems[i].colorkey, 1, lems[i].orientation, 0)
  end
  print("score " .. tostring(score), 4, 0)
end

init()
function TIC()
  frames = frames + 1
  if mode == 'game' then
    update_player()
    update_lem()
    cls()
    camera.x=camera.x-p.vx
    map(levels[level].mapx,levels[level].mapy)
    draw_sprites()
  end

  if mode == 'menu' then
    cls()
    map(0, 0)    
    print('Press X to start', 70, 90, 15, 1, 1)
    print('Soteria', 70, 30, 15, 1, 2)
    if btnp(5) then
      mode='game'
      place_lems(10, 0, 10)
    end
  end

  if mode == 'gameover' then
    cls()
    map(80, 80)    
    print('Press X to try again', 70, 90, 15, 1, 1)
    print('Game Over', 70, 30, 15, 1, 2)
    if btnp(5) then
      mode='game'
  	  p.x=20
  	  p.y=30 
      place_lems(10, 0, 10)
    end
  end

  if dead_lems + score == num_lems then
  	if score < 5 then
  	 mode='gameover'
  	 dead_lems=0
  	 score=0
  	else
  	 level=level+1
  	 dead_lems=0
  	 score=0
  	 p.x=20
  	 p.y=30
  	 place_lems(10, 0, 10)
  	end
  end
  --debug_print()
end

-- <TILES>
-- 000:a7aaaaaaa7aaaaaaa77aaaaa77777777aaaaa7aaaaaaa7aaaaaaa77a77777777
-- 001:00000888000088880008888800888888008a8ffc0088a2fc008a8ccc0088accc
-- 002:88880000888680008888d80088888680cff88880c2f88880cccc8880cccc8880
-- 003:00000888000088880008888800888888008a8ffc0088a2fc008a8ccc0088accc
-- 004:88880000888680008888d80088888680cff88880c2f88880cccc8880cccc8880
-- 005:00000888000088880008888800888888008a8ffc0088a2fc008a8ccc0088accc
-- 006:88880000888680008888d80088888680cff88880c2f88880cccc8880cccc8880
-- 007:00000888000088880008888800888888008a8ffc0088a2fc008a8ccc0088accc
-- 008:88880000888680008888d80088888680cff88880c2f88880cccc8880cccc8880
-- 009:022222200cccccc2c2fcc2f2cffccff20cc2ccc20cccccc000c00c6006600060
-- 010:022222200cccccc2c2fcc2f2cffccff20cc2ccc20cccccc0000c0c0000666600
-- 016:aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
-- 017:000888c60000ffff00000fff66ffffaa6e444aaa664cc4440000a4440000ccc0
-- 018:6cc88800affff000afff0000aaaffff0aaaafcc0aaaafcc0aaaaa00000ccc000
-- 019:000888c60000ffff00000fff66ffffaa6e444aaa664cc4440000c44400000c00
-- 020:6cc88800affff000afff0000aaafff00aaafcc00aaafcc00aaaaa00000ccc000
-- 021:000888c60000ffff00000fff66ffffaa6e444aaa664cc4440000a4440000ccc0
-- 022:6cc88800affff000afff0000aaaffff0aaaafcc0aaaafcc0aaac000000c00000
-- 023:000888c66660ffff6e600fff6644ffaa004c44aa0000c44400000c440000c000
-- 024:6cc88800affff000afff0000aaaffff0aaaafcc0aaaafcc0aaac000000c00000
-- 025:a9a9a9a996969696666666666666666666666666666666666666666666666666
-- 026:ddddddddd8d8d8d88d8d8d8d8888888888888888888888888888888888888888
-- 033:effffffdfdddddddfdddddddfdddddddfdddddddfdddddddfddddddddddddddd
-- 035:aaaaaaaaaaaaaaaaa66aa664a2266224a6622664aaa66aa4aaaaaaa4aaaaaaa4
-- 039:000eeeee00eeeeee0eeeeeee0ecccccc0effffff0cff2fff0cff2fff0cff2fff
-- 040:eeeee000e66e6600e6666600c66666e0f66c66e02ffceee02ffceee02ffceee0
-- 041:7744444474dddddd4dd222224d2222224dcccccc4dcfffff4dcf1ff14dcf1ff1
-- 042:44444477dddddd47266d66d4266666d4c66666d4f66266d4ffc22dd4ffc22dd4
-- 055:0cffffff0ccccccc0ccc6ccc0cccc6660ccccccc022222220022200000111000
-- 056:fffceee0cccceee06ccceee0cccceee0cccceee0222200002220000011100000
-- 057:4dcfffff4dcccccc4dcc6ccc4dccc6664dcccccc4ddccccc74dddccc77444444
-- 058:ffc22dd4ccc22dd46cc22dd4ccc22dd4ccc22dd4ccd22dd4ddd22d4744444477
-- 065:000000000000000000000000000ff000000ff000000000000000000000000000
-- 066:000000000000000000f00f00000ee000000ee00000f00f000000000000000000
-- 067:000000000f0000f000e00e00000000000000000000e00e000f0000f000000000
-- 068:e000000e000000000000000000000000000000000000000000000000e000000e
-- 081:0000bb00000b0b0000b00660066066f666f60666666606600660000000000000
-- 082:0000000000000b00000000b00000066000006f600006f6700666670000777000
-- 083:000000000000000000000000b606606bf660666fbf0660fb0bffffb000bbbb00
-- 084:000000000b0b0b0000bbb000009b940009494940049494400949494000444400
-- 085:99900000444990006f644900fff664906f666490666bff496fb66f496ff66649
-- 086:000000000f0000f00ff999f00ff999f00f9999f00ff999f00f9999f007ffff70
-- 097:aaddddaaad5555dad666666ddeeeeeeddccccccddbbbbbbdd999999dd888888d
-- </TILES>

-- <MAP>
-- 000:120000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 001:120000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 002:121212121212121212121212121212120000121212121212121212121212121212121212121212121212121212121212121212121212121212000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 003:120000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 004:120000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 005:120000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 006:120000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 007:120000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000001212000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 008:12000000000000000000000000000000000000000000000092a200000012000000000000000000000000000000000000000000000000001212121212000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 009:12000000000000000000000000000000000000000000000093a3000000120000000000000000000000000000000000000000000012a1a11212121212000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 010:121212120000000000000000000000000000000000000000000000000012000000000000000000000000000000000000001212121212121212121212000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 011:121212121200000000000000000000000000000000000000000000000012000000000000000000000000000000001212121212121212121212121212000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 012:121212121212000000000000000000000000000000000000000000000012000000000000000000000000001212121212121212121212121212121212000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 013:121212121212120000000000000000000000000000000000000000000012000000000000000000001212121212121212121212121212121212121212000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 014:121212121212121200000000000000000000000000000000000012000012000000000000001212121212121212121212121212121212121212121212000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 015:121212121212121212000000000000000000000000000000000012001612001600001212121212121212121212121212121212121212121212121212000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 016:121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 017:121212121212121212121212121212121212121212121212121212121212000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 018:120000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 019:120000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 020:120000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 021:120000000000000000000000000000000000000000007080000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 022:120000000000000000000000000000000000000000007181000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 023:120000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 024:120000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 025:120000000000000000000000009000a0009000a000900000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 026:120000001212120000000000121212121212121212121212121200000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 027:120000001200000000000000000000000000000000000000001200000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 028:120000001200000000000000000000000000000000000000001200000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 029:121212121200000000000000000000000000000000000000001212121212000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 030:120000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 031:120000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 032:120000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 033:121212121212919191919191919191919191919191919191121212121212000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- </MAP>

-- <WAVES>
-- 000:00000000ffffffff00000000ffffffff
-- 001:0123456789abcdeffedcba9876543210
-- 002:0123456789abcdef0123456789abcdef
-- 003:54323456765432101234567876543234
-- </WAVES>

-- <SFX>
-- 000:0350036003700380039003a003b003c003d003e003e003f003f003e003e003d003d003c003b003a00390038003700360035003400330032003100300302000000000
-- </SFX>

-- <PALETTE>
-- 000:140c1c44243430346d4e4a4e854c30346524d04648757161597dced27d2c8595a16daa2cd2aa996dc2cadad45edeeed6
-- </PALETTE>

